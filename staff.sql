-- MySQL Script generated by MySQL Workbench
-- Tue Mar 26 08:23:54 2019
-- Model: New Model    Version: 1.0
-- MySQL Workbench Forward Engineering

SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0;
SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0;
SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION';

-- -----------------------------------------------------
-- Schema staffdb
-- -----------------------------------------------------
DROP SCHEMA IF EXISTS `staffdb` ;

-- -----------------------------------------------------
-- Schema staffdb
-- -----------------------------------------------------
CREATE SCHEMA IF NOT EXISTS `staffdb` DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci ;
USE `staffdb` ;

-- -----------------------------------------------------
-- Table `staffdb`.`staff_role`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `staffdb`.`staff_role` ;

CREATE TABLE IF NOT EXISTS `staffdb`.`staff_role` (
  `s_role_ID` CHAR(30) NOT NULL,
  `s_role_name` VARCHAR(45) NOT NULL,
  `s_role_detail` VARCHAR(255) NOT NULL,
  PRIMARY KEY (`s_role_ID`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `staffdb`.`staff`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `staffdb`.`staff` ;

CREATE TABLE IF NOT EXISTS `staffdb`.`staff` (
  `s_ID` INT NOT NULL AUTO_INCREMENT,
  `s_u_ID` VARCHAR(256) NOT NULL,
  `s_u_PW` VARCHAR(256) NOT NULL,
  `s_role_ID` CHAR(30) NOT NULL,
  `s_name` VARCHAR(45) NOT NULL,
  `s_phone` CHAR(12) NOT NULL,
  `s_address` VARCHAR(100) NOT NULL,
  `s_email` VARCHAR(256) NULL,
  `s_employed` TINYINT(1) NOT NULL,
  PRIMARY KEY (`s_ID`),
  INDEX `fk_s_cate_ID_idx` (`s_role_ID` ASC),
  CONSTRAINT `fk_s_role_ID_staff`
    FOREIGN KEY (`s_role_ID`)
    REFERENCES `staffdb`.`staff_role` (`s_role_ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `staffdb`.`rights`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `staffdb`.`rights` ;

CREATE TABLE IF NOT EXISTS `staffdb`.`rights` (
  `right_ID` CHAR(10) NOT NULL,
  `right_name` VARCHAR(45) NOT NULL,
  `right_detail` TEXT NULL,
  PRIMARY KEY (`right_ID`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `staffdb`.`right_detail`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `staffdb`.`right_detail` ;

CREATE TABLE IF NOT EXISTS `staffdb`.`right_detail` (
  `r_d_ID` INT NOT NULL AUTO_INCREMENT,
  `s_role_ID` CHAR(30) NOT NULL,
  `right_ID` CHAR(10) NOT NULL,
  `right_has` TINYINT(1) NOT NULL,
  INDEX `fk_s_cate_ID_idx` (`s_role_ID` ASC),
  INDEX `fk_right_ID_idx` (`right_ID` ASC),
  PRIMARY KEY (`r_d_ID`),
  CONSTRAINT `fk_r_s_role_ID`
    FOREIGN KEY (`s_role_ID`)
    REFERENCES `staffdb`.`staff_role` (`s_role_ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_r_right_ID`
    FOREIGN KEY (`right_ID`)
    REFERENCES `staffdb`.`rights` (`right_ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


SET SQL_MODE=@OLD_SQL_MODE;
SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS;
SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS;

-- -----------------------------------------------------
-- Data for table `staffdb`.`staff_role`
-- -----------------------------------------------------
START TRANSACTION;
USE `staffdb`;
INSERT INTO `staffdb`.`staff_role` (`s_role_ID`, `s_role_name`, `s_role_detail`) VALUES ('admin', 'Quản trị viên', 'Nắm quyền tất cả');
INSERT INTO `staffdb`.`staff_role` (`s_role_ID`, `s_role_name`, `s_role_detail`) VALUES ('manager', 'Chủ shop', 'Nắm quyền tất cả chỉ dưới Quản trị viên');
INSERT INTO `staffdb`.`staff_role` (`s_role_ID`, `s_role_name`, `s_role_detail`) VALUES ('fullstaff', 'Nhân viên chủ lực', 'Quản lý tất cả nội dung về hoa, hóa đơn, bình luận, đánh giá... Không quản lý nhân viên');
INSERT INTO `staffdb`.`staff_role` (`s_role_ID`, `s_role_name`, `s_role_detail`) VALUES ('normalstaff', 'Nhân viên bình thường', 'Quản lý nội dung về hóa đơn, bình  luận');
INSERT INTO `staffdb`.`staff_role` (`s_role_ID`, `s_role_name`, `s_role_detail`) VALUES ('bot', 'Con bot vô năng', 'Test không chức năng');

COMMIT;


-- -----------------------------------------------------
-- Data for table `staffdb`.`staff`
-- -----------------------------------------------------
START TRANSACTION;
USE `staffdb`;
INSERT INTO `staffdb`.`staff` (`s_ID`, `s_u_ID`, `s_u_PW`, `s_role_ID`, `s_name`, `s_phone`, `s_address`, `s_email`, `s_employed`) VALUES (0, 'admin', 'admin', 'admin', 'Quản trị viên', '0900090000', '234 bcd', 'admin@admin.com', 1);
INSERT INTO `staffdb`.`staff` (`s_ID`, `s_u_ID`, `s_u_PW`, `s_role_ID`, `s_name`, `s_phone`, `s_address`, `s_email`, `s_employed`) VALUES (DEFAULT, 'lam1990', 'lam1990', 'manager', 'Nguyễn Thế Lâm', '0905591115', '123 abc', 'lam1990@hdtv.com', 1);
INSERT INTO `staffdb`.`staff` (`s_ID`, `s_u_ID`, `s_u_PW`, `s_role_ID`, `s_name`, `s_phone`, `s_address`, `s_email`, `s_employed`) VALUES (DEFAULT, 'nva00', 'nva00', 'fullstaff', 'Nguyễn Văn A', '0204433222', '99-2 aaa', 'nva00@hdtv.com', 1);
INSERT INTO `staffdb`.`staff` (`s_ID`, `s_u_ID`, `s_u_PW`, `s_role_ID`, `s_name`, `s_phone`, `s_address`, `s_email`, `s_employed`) VALUES (DEFAULT, 'dtb01', 'dtb01', 'fullstaff', 'Đào Thị B', '0559393372', '33-2 bbb', 'dtb01@hdtv.com', 1);

COMMIT;


-- -----------------------------------------------------
-- Data for table `staffdb`.`rights`
-- -----------------------------------------------------
START TRANSACTION;
USE `staffdb`;
INSERT INTO `staffdb`.`rights` (`right_ID`, `right_name`, `right_detail`) VALUES ('Q01', 'Quyền quản lý bó hoa', 'Quyền quản lý bó hoa');
INSERT INTO `staffdb`.`rights` (`right_ID`, `right_name`, `right_detail`) VALUES ('Q02', 'Quyền quản lý hoa', 'Quyền quản lý hoa');
INSERT INTO `staffdb`.`rights` (`right_ID`, `right_name`, `right_detail`) VALUES ('Q03', 'Quyền quản lý loại hoa', 'Quyền quản lý loại hoa');
INSERT INTO `staffdb`.`rights` (`right_ID`, `right_name`, `right_detail`) VALUES ('Q04', 'Quyền quản lý dịp', 'Quyền quản lý dịp');
INSERT INTO `staffdb`.`rights` (`right_ID`, `right_name`, `right_detail`) VALUES ('Q05', 'Quyền quản lý nhân viên', 'Quyền quản lý nhân viên');
INSERT INTO `staffdb`.`rights` (`right_ID`, `right_name`, `right_detail`) VALUES ('Q06', 'Quyền quản lý đơn hàng', 'Quyền quản lý đơn hàng');
INSERT INTO `staffdb`.`rights` (`right_ID`, `right_name`, `right_detail`) VALUES ('Q07', 'Quyền quản lý bình luận', 'Quyền quản lý bình luận');
INSERT INTO `staffdb`.`rights` (`right_ID`, `right_name`, `right_detail`) VALUES ('Q08', 'Quyền quản lý đánh giá', 'Quyền quản lý đánh giá');
INSERT INTO `staffdb`.`rights` (`right_ID`, `right_name`, `right_detail`) VALUES ('Q00', 'Quyền quản trị viên', 'Quyền tối cao');
INSERT INTO `staffdb`.`rights` (`right_ID`, `right_name`, `right_detail`) VALUES ('Q09', 'Quyền quản lý quyền nhân viên', 'Quyền quản lý quyền nhân viên');
INSERT INTO `staffdb`.`rights` (`right_ID`, `right_name`, `right_detail`) VALUES ('Q10', 'Quyền quản lý khách hàng', 'Quyền quản lý khách hàng');

COMMIT;


-- -----------------------------------------------------
-- Data for table `staffdb`.`right_detail`
-- -----------------------------------------------------
START TRANSACTION;
USE `staffdb`;
INSERT INTO `staffdb`.`right_detail` (`r_d_ID`, `s_role_ID`, `right_ID`, `right_has`) VALUES (1, 'admin', 'Q00', 1);
INSERT INTO `staffdb`.`right_detail` (`r_d_ID`, `s_role_ID`, `right_ID`, `right_has`) VALUES (2, 'manager', 'Q01', 1);
INSERT INTO `staffdb`.`right_detail` (`r_d_ID`, `s_role_ID`, `right_ID`, `right_has`) VALUES (3, 'manager', 'Q02', 1);
INSERT INTO `staffdb`.`right_detail` (`r_d_ID`, `s_role_ID`, `right_ID`, `right_has`) VALUES (4, 'manager', 'Q03', 1);
INSERT INTO `staffdb`.`right_detail` (`r_d_ID`, `s_role_ID`, `right_ID`, `right_has`) VALUES (5, 'manager', 'Q04', 1);
INSERT INTO `staffdb`.`right_detail` (`r_d_ID`, `s_role_ID`, `right_ID`, `right_has`) VALUES (6, 'manager', 'Q05', 1);
INSERT INTO `staffdb`.`right_detail` (`r_d_ID`, `s_role_ID`, `right_ID`, `right_has`) VALUES (7, 'manager', 'Q06', 1);
INSERT INTO `staffdb`.`right_detail` (`r_d_ID`, `s_role_ID`, `right_ID`, `right_has`) VALUES (8, 'manager', 'Q07', 1);
INSERT INTO `staffdb`.`right_detail` (`r_d_ID`, `s_role_ID`, `right_ID`, `right_has`) VALUES (9, 'manager', 'Q08', 1);
INSERT INTO `staffdb`.`right_detail` (`r_d_ID`, `s_role_ID`, `right_ID`, `right_has`) VALUES (10, 'manager', 'Q09', 1);
INSERT INTO `staffdb`.`right_detail` (`r_d_ID`, `s_role_ID`, `right_ID`, `right_has`) VALUES (11, 'manager', 'Q10', 1);

COMMIT;

